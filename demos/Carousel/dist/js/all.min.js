!function(t,e){function o(t,e,o,n,i){var s=i||-1;0===n?(d.listBox.style.marginLeft=o+"px",x.removeClass(d.dots[0],"on"),x.addClass(d.dots[d.count-1],"on")):(d.listBox.style.marginLeft=n-s*t+"px",x.removeClass(d.dots[e],"on"),x.addClass(d.dots[e+s],"on"))}function n(t,e,o,n,i){var s=i||1;n===o?(d.listBox.style.marginLeft="",x.removeClass(d.dots[d.count-1],"on"),x.addClass(d.dots[0],"on")):(d.listBox.style.marginLeft=n-s*t+"px",x.removeClass(d.dots[e],"on"),x.addClass(d.dots[(e+s)%d.count],"on"))}function s(t){var e=t.currentTarget,i=d.width,s=parseFloat(d.listBox.style.marginLeft),r=isNaN(s)?0:s,a=(1-d.count)*i,l=-r/i;if(x.hasClass(e,"prev"))o(i,l,a,r);else if(x.hasClass(e,"next"))n(i,l,a,r);else if(x.hasClass(e,"carousel-dot-item")){var c=x.index(e)-l;if(c){var u=c<0?o:n;u(i,l,a,r,c)}}}function r(){var t=d.width,e=parseFloat(d.listBox.style.marginLeft),i=isNaN(e)?0:e,s=(1-d.count)*t,r=-i/t;(d.isReverse?o:n)(t,r,s,i)}function a(){f=setInterval(r,d.duration)}function l(){clearInterval(f)}function c(t){var e,o,n,i=t.data,r=t.curIndex,c="",u="";for(i.forEach(function(t,e){cls=e+1===r?"on":"",c+=x.templateFormat(v.dot,[cls]),u+=x.templateFormat(v.item,[t.image,t.text])}),t.root.innerHTML=x.templateFormat(v.main,[x.templateFormat(v.ul,["dot",c])+x.templateFormat(v.ul,["list",u])]),e=t.root.getBoundingClientRect(),t.count=i.length,t.width=e.width,t.height=e.height,t.listBox=t.root.querySelector(".carousel-list"),o=t.listBox.style,o.width=e.width*t.count+"px",o.height=e.height+"px",o.marginLeft=(1-r)*e.width+"px",t.prev=t.root.querySelector(".prev"),t.next=t.root.querySelector(".next"),t.dots=t.root.querySelectorAll(".carousel-dot-item "),d=t,x.on(t.prev,"click",s),x.on(t.next,"click",s),n=0;n<t.count;n++)x.on(t.dots[n],"click",s);t.isAuto&&(a(),x.on(t.root,"mouseover",l),x.on(t.root,"mouseout",a))}function u(t,e){this.container=h.querySelector(t),this.container&&(this.name=m,this.uid=x.setUid(),this.defaults={data:[],curIndex:1,isAuto:!0,isReverse:!1,duration:3e3},this.options=x.extend(this.defaults,e),this.options.root=h.createElement("div"),this.options.root.className="ch-"+x.toCamel(m,!1),this.init())}var d,f,m="Carousel",h=t.document,p=0,v={main:'<span class="carousel-arrow prev">&lt;</span><span class="carousel-arrow next">&gt;</span>${content}',ul:'<ul class="carousel-${type}">${items}</ul>',item:'<li class="carousel-item"><img class="carousel-item-img" src="${src}" alt="${text}" /></li>',dot:'<li class="carousel-dot-item ${cls}"></li>'},x={setUid:function(t){return(t||"")+p++},templateFormat:function(t,e){var o=0;return t.replace(/\$\{\w+\}/g,function(t){return e[o++]})},toCamel:function(t,e){return e?t.replace(/-[a-z]{1}/g,function(t){return t.charAt(1).toUpperCase()}):t.replace(/[A-Z]/g,function(t,e){var o=t.toLowerCase();return e&&(o="-"+o),o})},on:function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o},off:function(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=null},stringToDom:function(t){var e,o=h.createElement("div");return o.innerHTML=t,e=o.children[0],o=null,e},removeChild:function(t){t&&t.parentNode.removeChild(t)},hasClass:function(t,e){if(t&&1===t.nodeType&&e){var o;return t.className.split(" ").forEach(function(t){t===e&&(o=!0)}),o}},addClass:function(t,e){t&&1===t.nodeType&&e&&(this.hasClass(t,e)||(t.className+=" "+e))},removeClass:function(t,e){if(t&&1===t.nodeType&&e&&this.hasClass(t,e)){var o,n=t.className.split(" ");n.forEach(function(t,n){t===e&&(o=n)}),n.splice(o,1),t.className=n.join(" ")}},index:function(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)e++;return e},extend:function(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}};u.prototype={constructor:u,init:function(){var t=this.options;this.container.innerHTML="",this.container.appendChild(t.root),c(t)},setData:function(t){this.options.data=t,this.init()},destroy:function(){for(d.isAuto&&(x.off(d.root,"mouseout",a),x.off(d.root,"mouseover",l),l()),x.off(d.prev,"click",s),x.off(d.next,"click",s),i=0;i<d.count;i++)x.off(d.dots[i],"click",s);p=d=f=h=m=v=x=null,this.container.innerHTML=""}},e[m]=u}(window,window.NS||(window.NS={}));